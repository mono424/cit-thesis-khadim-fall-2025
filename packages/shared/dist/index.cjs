"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const K=require("@mono424/stalker-ts"),f=require("solid-js"),m=require("wgpu-matrix"),T=require("lucide-solid");function V(...e){return e.filter(Boolean).join(" ")}let J="app";const le=e=>{J=e},ae=()=>J;let G=null;const ce=e=>{const n=K.csvStorage({callback:e}),t=K.tableStorage();return{saveSessions:async c=>{n.saveSessions([...c]),t.saveSessions([...c])}}},te=e=>(G||(G=K.stalker(ce(e))),G),ne=e=>`${J}_${e}_${Date.now()}`;function de(){const[e,n]=f.createSignal({eye:m.vec3.fromValues(5,3,-5),lookAt:m.vec3.fromValues(0,0,0),up:m.vec3.fromValues(0,0,-1),fov:Math.PI/3,aspect:1,near:.1,far:50}),[t,c]=f.createSignal(m.mat4.create()),[i,a]=f.createSignal(m.mat4.create()),[d,o]=f.createSignal(m.mat4.create()),[s,r]=f.createSignal(m.vec4.create()),[h,u]=f.createSignal(m.vec4.create()),[p,C]=f.createSignal(0),D=()=>{const{fov:g,aspect:y,near:b,far:A}=e(),v=m.mat4.perspective(g,y,b,A);a(v)},x=()=>{const{eye:g,lookAt:y,up:b}=e(),A=m.mat4.lookAt(g,y,b);c(A);const v=m.mat4.transpose(A);r(m.vec4.fromValues(v[8],v[9],v[10],1)),u(m.vec4.fromValues(v[0],v[1],v[2],1))},E=()=>{const g=m.mat4.multiply(i(),t());o(g)},L=g=>{Object.keys(g).every(y=>g[y]===e()[y])||(n({...e(),...g}),x(),D(),E())},M=(g,y)=>{const{eye:b,lookAt:A,up:v}=e(),l=m.vec4.fromValues(b[0],b[1],b[2],1),S=m.vec4.fromValues(A[0],A[1],A[2],1),$=m.mat4.rotate(m.mat4.identity(),v,g);m.mat4.mul($,m.vec4.sub(l,S),l),m.vec4.add(l,S,l);const _=m.mat4.rotate(m.mat4.identity(),h(),y);m.mat4.mul(_,m.vec4.sub(l,S),l),m.vec4.add(l,S,l),n({...e(),eye:m.vec3.fromValues(l[0],l[1],l[2])}),x(),E()},R=()=>{const{lookAt:g,eye:y}=e();C(m.vec3.distance(g,y))},j=g=>{if(g<.5)return;const{lookAt:y}=e(),b=m.vec3.add(y,m.vec3.scale(m.vec3.normalize(s()),g));n({...e(),eye:b}),R(),x(),E()},P=(g,y)=>{const{eye:b,lookAt:A,up:v}=e(),l=m.vec3.normalize(m.vec3.subtract(A,b)),S=m.vec3.normalize(m.vec3.cross(l,v)),$=m.vec3.normalize(m.vec3.cross(S,l)),N=m.vec3.distance(b,A)*.001,Y=m.vec3.scale(S,g*N),O=m.vec3.scale($,-y*N),F=m.vec3.add(Y,O),I=m.vec3.add(b,F),q=m.vec3.add(A,F);n({...e(),eye:I,lookAt:q}),x(),E()};return R(),x(),D(),E(),{setContext:L,viewMatrix:t,projectionMatrix:i,viewProjectionMatrix:d,rotateAroundPivotPoint:M,setLookAtDistance:j,distance:p,panCamera:P}}const ue=({name:e})=>{const[n,t]=f.createSignal([]),[c,i]=f.createSignal(0),[a,d]=f.createSignal(0),[o,s]=f.createSignal(0),[r,h]=f.createSignal(0),[u,p]=f.createSignal(0),[C,D]=f.createSignal(0),[x,E]=f.createSignal(null),L=async({stalker:g,seconds:y})=>{if(x())throw new Error("Stalker session already started");const b=g.startSession(ne(e));return E(b),new Promise(A=>setTimeout(()=>{E(null),b.endSession(),A()},y*1e3))},M=g=>{t(b=>[...b,g].slice(-100)),i(g),d(n().reduce((b,A)=>b+A,0)/n().length);const y=x();y&&y.addEvent("fps",{fps:g})};let R=new Promise(g=>g());return{fps:c,avgFps:a,frameCount:o,lastFrameTime:r,lastFrameTimestamp:u,updateFps:async(g=performance.now())=>{await R,R=new Promise(y=>{const b=performance.now(),A=b-r();if(A<50){D(S=>S+1),y();return}const v=1+C();D(0),s(S=>S+v);const l=1e3/A*v;M(l),h(b),p(g),y()})},setFps:M,startStalkerSession:L,emitEvent:(g,y)=>{const b=x();b&&b.addEvent(g,y)}}};function fe(e){let n=!1,t=!1,c=0,i=0,a=0,d=0,o=0,s=0,r=null,h=0,u=0,p=null;const C=v=>{const l=v;l.preventDefault(),(l.metaKey||l.ctrlKey||l.button===0)&&(t=l.metaKey||l.ctrlKey,n=!0,c=l.clientX,i=l.clientY,r&&(r.style.cursor="grabbing"))},D=v=>{const l=v;if(!n)return;const S=l.clientX-c,$=l.clientY-i;if(t)e.panCamera(S,$);else{const N=S*.005,Y=$*.005;e.rotateAroundPivotPoint(N,Y)}c=l.clientX,i=l.clientY},x=()=>{n=!1,t=!1,r&&(r.style.cursor="grab")},E=v=>{const l=v;l.preventDefault();const $=l.deltaY*.001,_=e.distance();e.setLookAtDistance(_+$)},L=v=>{const l=v;l.preventDefault(),l.metaKey||l.ctrlKey?y():b()},M=v=>{const l=v;l.preventDefault();const S=Date.now();if(l.touches.length===1)u++,p&&(clearTimeout(p),p=null),u===1?p=window.setTimeout(()=>{u=0},300):u===2&&S-h<300&&(P(l.touches[0]),u=0,p&&(clearTimeout(p),p=null)),h=S,n=!0,c=l.touches[0].clientX,i=l.touches[0].clientY;else if(l.touches.length===2){const $=l.touches[0],_=l.touches[1];a=Math.sqrt(Math.pow(_.clientX-$.clientX,2)+Math.pow(_.clientY-$.clientY,2)),d=e.distance(),o=($.clientX+_.clientX)/2,s=($.clientY+_.clientY)/2,t=!0,n=!1,u=0}},R=v=>{const l=v;if(l.preventDefault(),l.touches.length===1&&n&&!t){const S=l.touches[0].clientX-c,$=l.touches[0].clientY-i,_=.005,N=S*_,Y=$*_;e.rotateAroundPivotPoint(N,Y),c=l.touches[0].clientX,i=l.touches[0].clientY}else if(l.touches.length===2&&t){const S=l.touches[0],$=l.touches[1],_=Math.sqrt(Math.pow($.clientX-S.clientX,2)+Math.pow($.clientY-S.clientY,2)),N=a/_,Y=Math.max(.5,Math.min(50,d*N));e.setLookAtDistance(Y);const O=(S.clientX+$.clientX)/2,F=(S.clientY+$.clientY)/2,I=O-o,q=F-s;if(Math.abs(I)>5||Math.abs(q)>5){const re=I*.002,ie=q*.002;e.rotateAroundPivotPoint(re,ie),o=O,s=F}}},j=v=>{const l=v;l.preventDefault(),l.touches.length<2&&(t=!1),l.touches.length===0&&(n=!1)},P=v=>{b()},g=v=>{if(document.activeElement?.tagName==="INPUT"||document.activeElement?.tagName==="TEXTAREA")return;const l=.1,S=.5;switch(v.code){case"ArrowUp":case"KeyW":v.preventDefault(),e.rotateAroundPivotPoint(0,-l);break;case"ArrowDown":case"KeyS":v.preventDefault(),e.rotateAroundPivotPoint(0,l);break;case"ArrowLeft":case"KeyA":v.preventDefault(),e.rotateAroundPivotPoint(-l,0);break;case"ArrowRight":case"KeyD":v.preventDefault(),e.rotateAroundPivotPoint(l,0);break;case"Equal":case"NumpadAdd":if(v.ctrlKey||v.metaKey){v.preventDefault();const $=e.distance();e.setLookAtDistance(Math.max(.5,$-S))}break;case"Minus":case"NumpadSubtract":if(v.ctrlKey||v.metaKey){v.preventDefault();const $=e.distance();e.setLookAtDistance(Math.min(50,$+S))}break;case"Digit0":case"Numpad0":(v.ctrlKey||v.metaKey)&&(v.preventDefault(),y());break;case"KeyR":v.preventDefault(),y();break;case"KeyF":v.preventDefault(),b();break}},y=()=>{e.setContext({eye:m.vec3.fromValues(5,3,-5),lookAt:m.vec3.fromValues(0,0,0),up:m.vec3.fromValues(0,0,-1),fov:Math.PI/3,aspect:1,near:.1,far:50})},b=()=>{e.setLookAtDistance(8)};return{init:v=>{r=v,r.addEventListener("mousedown",C),r.addEventListener("mousemove",D),r.addEventListener("mouseup",x),r.addEventListener("mouseleave",x),r.addEventListener("wheel",E),r.addEventListener("dblclick",L),r.addEventListener("touchstart",M),r.addEventListener("touchmove",R),r.addEventListener("touchend",j),r.addEventListener("touchcancel",j),document.addEventListener("keydown",g),r.style.cursor="grab",f.onCleanup(()=>{r&&(r.removeEventListener("mousedown",C),r.removeEventListener("mousemove",D),r.removeEventListener("mouseup",x),r.removeEventListener("mouseleave",x),r.removeEventListener("wheel",E),r.removeEventListener("dblclick",L),r.removeEventListener("touchstart",M),r.removeEventListener("touchmove",R),r.removeEventListener("touchend",j),r.removeEventListener("touchcancel",j)),document.removeEventListener("keydown",g),p&&clearTimeout(p)})},resetView:y,zoomToFit:b}}const X=e=>f.createMemo(()=>e());function ve(e,n,t){let c=t.length,i=n.length,a=c,d=0,o=0,s=n[i-1].nextSibling,r=null;for(;d<i||o<a;){if(n[d]===t[o]){d++,o++;continue}for(;n[i-1]===t[a-1];)i--,a--;if(i===d){const h=a<c?o?t[o-1].nextSibling:t[a-o]:s;for(;o<a;)e.insertBefore(t[o++],h)}else if(a===o)for(;d<i;)(!r||!r.has(n[d]))&&n[d].remove(),d++;else if(n[d]===t[a-1]&&t[o]===n[i-1]){const h=n[--i].nextSibling;e.insertBefore(t[o++],n[d++].nextSibling),e.insertBefore(t[--a],h),n[i]=t[a]}else{if(!r){r=new Map;let u=o;for(;u<a;)r.set(t[u],u++)}const h=r.get(n[d]);if(h!=null)if(o<h&&h<a){let u=d,p=1,C;for(;++u<i&&u<a&&!((C=r.get(n[u]))==null||C!==h+p);)p++;if(p>h-o){const D=n[d];for(;o<h;)e.insertBefore(t[o++],D)}else e.replaceChild(t[o++],n[d++])}else d++;else n[d++].remove()}}}const Z="_$DX_DELEGATE";function k(e,n,t,c){let i;const a=()=>{const o=document.createElement("template");return o.innerHTML=e,o.content.firstChild},d=()=>(i||(i=a())).cloneNode(!0);return d.cloneNode=d,d}function H(e,n=window.document){const t=n[Z]||(n[Z]=new Set);for(let c=0,i=e.length;c<i;c++){const a=e[c];t.has(a)||(t.add(a),n.addEventListener(a,me))}}function he(e,n,t){Q(e)||(t==null?e.removeAttribute(n):e.setAttribute(n,t))}function z(e,n){Q(e)||(n==null?e.removeAttribute("class"):e.className=n)}function w(e,n,t,c){if(t!==void 0&&!c&&(c=[]),typeof n!="function")return U(e,n,c,t);f.createRenderEffect(i=>U(e,n(),i,t),c)}function Q(e){return!!f.sharedConfig.context&&!f.sharedConfig.done&&(!e||e.isConnected)}function me(e){if(f.sharedConfig.registry&&f.sharedConfig.events&&f.sharedConfig.events.find(([s,r])=>r===e))return;let n=e.target;const t=`$$${e.type}`,c=e.target,i=e.currentTarget,a=s=>Object.defineProperty(e,"target",{configurable:!0,value:s}),d=()=>{const s=n[t];if(s&&!n.disabled){const r=n[`${t}Data`];if(r!==void 0?s.call(n,r,e):s.call(n,e),e.cancelBubble)return}return n.host&&typeof n.host!="string"&&!n.host._$host&&n.contains(e.target)&&a(n.host),!0},o=()=>{for(;d()&&(n=n._$host||n.parentNode||n.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),f.sharedConfig.registry&&!f.sharedConfig.done&&(f.sharedConfig.done=_$HY.done=!0),e.composedPath){const s=e.composedPath();a(s[0]);for(let r=0;r<s.length-2&&(n=s[r],!!d());r++){if(n._$host){n=n._$host,o();break}if(n.parentNode===i)break}}else o();a(c)}function U(e,n,t,c,i){const a=Q(e);if(a){!t&&(t=[...e.childNodes]);let s=[];for(let r=0;r<t.length;r++){const h=t[r];h.nodeType===8&&h.data.slice(0,2)==="!$"?h.remove():s.push(h)}t=s}for(;typeof t=="function";)t=t();if(n===t)return t;const d=typeof n,o=c!==void 0;if(e=o&&t[0]&&t[0].parentNode||e,d==="string"||d==="number"){if(a||d==="number"&&(n=n.toString(),n===t))return t;if(o){let s=t[0];s&&s.nodeType===3?s.data!==n&&(s.data=n):s=document.createTextNode(n),t=B(e,t,c,s)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n}else if(n==null||d==="boolean"){if(a)return t;t=B(e,t,c)}else{if(d==="function")return f.createRenderEffect(()=>{let s=n();for(;typeof s=="function";)s=s();t=U(e,s,t,c)}),()=>t;if(Array.isArray(n)){const s=[],r=t&&Array.isArray(t);if(W(s,n,t,i))return f.createRenderEffect(()=>t=U(e,s,t,c,!0)),()=>t;if(a){if(!s.length)return t;if(c===void 0)return t=[...e.childNodes];let h=s[0];if(h.parentNode!==e)return t;const u=[h];for(;(h=h.nextSibling)!==c;)u.push(h);return t=u}if(s.length===0){if(t=B(e,t,c),o)return t}else r?t.length===0?ee(e,s,c):ve(e,t,s):(t&&B(e),ee(e,s));t=s}else if(n.nodeType){if(a&&n.parentNode)return t=o?[n]:n;if(Array.isArray(t)){if(o)return t=B(e,t,c,n);B(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function W(e,n,t,c){let i=!1;for(let a=0,d=n.length;a<d;a++){let o=n[a],s=t&&t[e.length],r;if(!(o==null||o===!0||o===!1))if((r=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))i=W(e,o,s)||i;else if(r==="function")if(c){for(;typeof o=="function";)o=o();i=W(e,Array.isArray(o)?o:[o],Array.isArray(s)?s:[s])||i}else e.push(o),i=!0;else{const h=String(o);s&&s.nodeType===3&&s.data===h?e.push(s):e.push(document.createTextNode(h))}}return i}function ee(e,n,t=null){for(let c=0,i=n.length;c<i;c++)e.insertBefore(n[c],t)}function B(e,n,t,c){if(t===void 0)return e.textContent="";const i=c||document.createTextNode("");if(n.length){let a=!1;for(let d=n.length-1;d>=0;d--){const o=n[d];if(i!==o){const s=o.parentNode===e;!a&&!d?s?e.replaceChild(i,o):e.insertBefore(i,t):s&&o.remove()}else a=!0}}else e.insertBefore(i,t);return[i]}var pe=k('<button class="border border-[#292B34] rounded-md px-2 py-1 hover:bg-gray-800 cursor-pointer flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed">');const oe=({getMetricsCsv:e,disabled:n})=>{const[t,c]=f.createSignal(!1),i=()=>{c(!0);try{const a=e();if(!a){console.warn("No metrics data available to download");return}const d=new Blob([a],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a"),s=URL.createObjectURL(d);o.setAttribute("href",s),o.setAttribute("download",`metrics_${new Date().toISOString().replace(/[:.]/g,"-")}.csv`),o.style.visibility="hidden",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s)}catch(a){console.error("Error downloading metrics:",a)}finally{c(!1)}};return(()=>{var a=pe();return a.$$click=i,w(a,(()=>{var d=X(()=>!!t());return()=>d()?f.createComponent(T.Loader,{size:16,class:"animate-spin"}):f.createComponent(T.Download,{size:16})})()),f.createRenderEffect(()=>a.disabled=t()||n()),a})()};H(["click"]);var ge=k('<div class="flex gap-2"><button class="border border-[#292B34] rounded-md px-2 py-1 hover:bg-gray-800 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed">');const ye=({startStalkerSessionTriggers:e,serverCsv:n,onStartMetricRecording:t,seconds:c})=>{const[i,a]=f.createSignal(!1),[d,o]=f.createSignal(""),s=async()=>{a(!0),o("");const h=await te(u=>{o(p=>p?`${p}
${u}`:u)});t?.(),await Promise.all(e().map(u=>u({seconds:c(),stalker:h}))),a(!1)},r=()=>{const h=d(),u=n?.();return u?`-- Client Metrics --
${h}

-- Server Metrics --
${u}`:h};return(()=>{var h=ge(),u=h.firstChild;return u.$$click=s,w(u,()=>i()?"Recording...":"Record Metrics"),w(h,f.createComponent(oe,{disabled:()=>i()||!d(),getMetricsCsv:r}),null),f.createRenderEffect(()=>u.disabled=i()),h})()};H(["click"]);var be=k('<div class="flex flex-col items-center my-2"><div class="w-2 h-2 border-2 border-gray-600 rounded-full z-10">'),we=k('<div><div class="w-2 h-2 border-2 border-gray-600 rounded-full z-10"></div><div class="w-[2px] h-4 my-[-2px] bg-gray-800 rounded-full"></div><div class="flex justify-center w-full"><div class="w-1/2 h-[2px] mx-[-2px] bg-gray-800"></div></div><div class="flex justify-center items-center w-full px-1 mt-[-1px]"><div class="w-[2px] h-4 bg-gray-800 rounded-full"></div><div class=w-1/2></div><div class="w-[2px] h-4 bg-gray-800 rounded-full"></div></div><div class="flex justify-center items-center w-full px-[10px] mt-[-2px]"><div class="w-2 h-2 border-2 border-gray-600 rounded-full z-10"></div><div class=w-1/2></div><div class="w-2 h-2 border-2 border-gray-600 rounded-full z-10">');const xe=({variant:e="1-to-2"})=>e==="1-to-1"?be():(()=>{var n=we();return f.createRenderEffect(()=>z(n,V("flex flex-col items-center my-2",e==="2-to-1"&&"flex-col-reverse"))),n})();var Se=k('<div class="flex flex-col justify-start flex-grow w-full gap-2"><div class="flex flex-col justify-start w-full gap-2"></div><div class="flex justify-center w-full flex-grow">');const $e=({children:e})=>(()=>{var n=Se(),t=n.firstChild;return w(t,e),n})();var Ce=k('<div class="flex justify-evenly w-full gap-2">');const Ae=({children:e})=>(()=>{var n=Ce();return w(n,e),n})();var Ee=k('<div><div class="flex items-center gap-2 w-full"><span class=flex-grow>'),_e=k('<div class="text-red-500 text-xs mt-2 py-1 px-2 w-full border border-red-500/20 rounded-full flex flex-start gap-2 items-center overflow-hidden"><span class=truncate>'),De=k("<div>"),Me=k('<span class="text-white/50 text-xs border border-white/10 px-3 py-1 rounded-full flex items-center gap-1 font-mono">'),Te=k('<span class="text-white/50 text-xs border border-white/10 px-3 py-1 rounded-full flex items-center gap-1 font-mono"> ');const se=({icon:e,title:n,status:t,variant:c="ghost",fps:i,customStat:a,error:d,children:o})=>(()=>{var s=Ee(),r=s.firstChild,h=r.firstChild;return w(r,f.createComponent(e,{size:14}),h),w(h,n),w(r,(()=>{var u=X(()=>t()==="success");return()=>u()&&f.createComponent(T.Check,{size:14,class:"text-green-500"})})(),null),w(r,(()=>{var u=X(()=>t()==="error");return()=>u()&&f.createComponent(T.X,{size:14,class:"text-red-500"})})(),null),w(r,(()=>{var u=X(()=>t()==="loading");return()=>u()&&f.createComponent(T.Loader,{size:16,class:"text-gray-500 animate-spin"})})(),null),w(r,(()=>{var u=X(()=>t()==="active");return()=>u()&&f.createComponent(T.Settings,{size:14,class:"text-blue-500 animate-spin"})})(),null),w(r,(()=>{var u=X(()=>t()==="neutral");return()=>u()&&f.createComponent(T.Circle,{size:14,class:"text-gray-500"})})(),null),w(s,o,null),w(s,(()=>{var u=X(()=>t()==="error"&&d?.()!="");return()=>u()&&(()=>{var p=_e(),C=p.firstChild;return w(p,f.createComponent(T.Bomb,{size:14,class:"text-red-500 flex-shrink-0"}),C),w(C,()=>d?.()??""),p})()})(),null),w(s,(i||a)&&(()=>{var u=De();return w(u,a&&(()=>{var p=Me();return w(p,a),p})(),null),w(u,i&&(()=>{var p=Te(),C=p.firstChild;return w(p,()=>i().toFixed(0),C),w(p,f.createComponent(T.ArrowDown,{size:12}),null),p})(),null),f.createRenderEffect(()=>z(u,V("flex items-center gap-2 justify-center overflow-hidden transition-all duration-300",t()==="loading"?"h-0 mt-0":"h-7 mt-2"))),u})(),null),f.createRenderEffect(u=>{var p=V("flex flex-col items-center text-gray-400 text-xs p-2 flex-grow cursor-default",c==="card"&&"bg-gray-800 rounded-md",c==="ghost"&&"border-gray-800 border rounded-md"),C=d?.()??"";return p!==u.e&&z(s,u.e=p),C!==u.t&&he(s,"title",u.t=C),u},{e:void 0,t:void 0}),s})();var ke=k('<div class="h-screen w-screen grid grid-cols-8 md:grid-rows-[auto_1fr] grid-rows-[auto_1fr] bg-[#030712] p-2 gap-2"><div><div class="flex items-center justify-between text-white text-sm text-left py-3 px-4 border-b border-[#292B34]"><h1></h1><div class="flex gap-1"><button class="border border-[#292B34] rounded-md px-2 py-1 hover:bg-gray-800 cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed md:hidden"></button></div></div><div></div></div><div class="md:col-span-6 col-span-8 min-h-0 overflow-hidden h-full"><div class="border-[#292B34] border h-full w-full rounded-md overflow-hidden">');const Pe=({title:e,action:n,sidebar:t,children:c})=>{const[i,a]=f.createSignal(!1);return(()=>{var d=ke(),o=d.firstChild,s=o.firstChild,r=s.firstChild,h=r.nextSibling,u=h.firstChild,p=s.nextSibling,C=o.nextSibling,D=C.firstChild;return w(r,e),w(h,n,u),u.$$click=()=>a(!i()),w(u,(()=>{var x=X(()=>!!i());return()=>x()?f.createComponent(T.ChevronUp,{size:14}):f.createComponent(T.ChevronDown,{size:14})})()),w(p,t),w(D,c),f.createRenderEffect(x=>{var E=V("bg-[#10141E] border-[#292B34] border md:col-span-2 col-span-8 rounded-xl min-h-0 overflow-hidden",i()?"h-auto":"h-14 md:!h-auto"),L=V("transition-all duration-300",i()?"overflow-y-auto h-[calc(100vh-3rem)] p-2":"h-0 p-0 overflow-hidden md:!overflow-y-auto md:!h-[calc(100vh-3rem)] md:!p-2");return E!==x.e&&z(o,x.e=E),L!==x.t&&z(p,x.t=L),x},{e:void 0,t:void 0}),d})()};H(["click"]);var Le=k('<div class="flex flex-col gap-4 items-center justify-center py-6"><div class="flex gap-2 bg-black/10 rounded-full p-4"></div><div class="flex gap-2"><button>Start Rotation</button><button class="bg-transparent hover:text-red-600 text-red-500 p-2 rounded-full disabled:text-gray-400 disabled:cursor-not-allowed flex items-center gap-2">'),je=k("<div>");const Re=({camera:e})=>{const[n,t]=f.createSignal("neutral"),[c,i]=f.createSignal(!1),[a,d]=f.createSignal(0);let o=null,s=null;const r=10,h=1e3,u=Math.PI*2/r,p=x=>{if(!c()||x>=r){i(!1),t("neutral"),d(0);return}s||(s=e()),s&&(s.rotateAroundPivotPoint(u,0),d(x+1),o=window.setTimeout(()=>p(x+1),h))},C=()=>{c()||(s=e(),s&&(i(!0),t("active"),d(0),p(0)))},D=()=>{o&&(clearTimeout(o),o=null),i(!1),t("neutral"),d(0),s=null};return f.onCleanup(()=>{o&&clearTimeout(o)}),f.createComponent(se,{variant:"card",icon:T.Box,title:"Dolly Cam Test",status:n,get children(){var x=Le(),E=x.firstChild,L=E.nextSibling,M=L.firstChild,R=M.firstChild,j=M.nextSibling;return w(E,()=>Array.from({length:r}).map((P,g)=>(()=>{var y=je();return f.createRenderEffect(()=>z(y,V("w-3 h-3 rounded-full border",g<a()?"bg-blue-200 border-blue-200":"bg-transparent border-gray-400"))),y})())),M.$$click=C,w(M,f.createComponent(T.Play,{size:16}),R),j.$$click=D,w(j,f.createComponent(T.Square,{size:14})),f.createRenderEffect(P=>{var g=c(),y=V("text-white px-4 py-2 rounded-md disabled:bg-black/10 disabled:cursor-not-allowed flex items-center gap-2",c()?"bg-black/10":"bg-blue-600 hover:bg-blue-700"),b=!c();return g!==P.e&&(M.disabled=P.e=g),y!==P.t&&z(M,P.t=y),b!==P.a&&(j.disabled=P.a=b),P},{e:void 0,t:void 0,a:void 0}),x}})};H(["click"]);exports.DollyCamCard=Re;exports.DownloadMetricsButton=oe;exports.FunnelConnector=xe;exports.Layout=Pe;exports.Pipeline=$e;exports.RecordButton=ye;exports.Splitter=Ae;exports.StatusRow=se;exports.cn=V;exports.createCamera=de;exports.createStalker=te;exports.generateSessionName=ne;exports.getAppName=ae;exports.setAppName=le;exports.useArcballControls=fe;exports.useFps=ue;Object.keys(K).forEach(e=>{e!=="default"&&!Object.prototype.hasOwnProperty.call(exports,e)&&Object.defineProperty(exports,e,{enumerable:!0,get:()=>K[e]})});
